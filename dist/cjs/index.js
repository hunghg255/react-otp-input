"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react/jsx-runtime"),t=require("react"),n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},n.apply(this,arguments)};var r=function(e){return"object"==typeof e},a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter((function(e){return!r(e)&&!1!==e})).join(" ")},o=function(o){var u=o.placeholder,l=o.separator,i=o.isLastChild,s=o.inputStyle,c=o.focus,f=o.isDisabled,p=o.hasErrored,d=o.errorStyle,y=o.focusStyle,v=o.disabledStyle,h=o.shouldAutoFocus,g=o.isInputNum,m=o.index,b=o.value,S=o.className,x=o.isInputSecure,j=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(o,["placeholder","separator","isLastChild","inputStyle","focus","isDisabled","hasErrored","errorStyle","focusStyle","disabledStyle","shouldAutoFocus","isInputNum","index","value","className","isInputSecure"]),D=t.useRef(null);t.useEffect((function(){var e=D.current;e&&c&&h&&e.focus()}),[]),t.useEffect((function(){var e=D.current;c&&e&&(e.focus(),e.select())}),[c]);var I=t.useMemo((function(){return x?"password":g?"tel":"text"}),[x,g]);return e.jsxs("div",n({className:S,style:{display:"flex",alignItems:"center"}},{children:[e.jsx("input",n({"aria-label":"".concat(0===m?"Please enter verification code. ":"").concat(g?"Digit":"Character"," ").concat(m+1),autoComplete:"off",style:Object.assign({width:"1em",textAlign:"center"},r(s)&&s,c&&r(y)&&y,f&&r(v)&&v,p&&r(d)&&d),placeholder:u,className:a(s,c&&y,f&&v,p&&d),type:I,ref:D,disabled:f,value:b||""},j)),!i&&e.jsx(e.Fragment,{children:l})]}))},u=t.forwardRef((function(a,u){var l=a.numInputs,i=void 0===l?4:l,s=a.onChange,c=void 0===s?function(e){return console.log(e)}:s,f=a.isDisabled,p=void 0!==f&&f,d=a.shouldAutoFocus,y=void 0!==d&&d,v=a.value,h=void 0===v?"":v,g=a.isInputSecure,m=void 0!==g&&g,b=a.placeholder,S=a.isInputNum,x=a.containerStyle,j=a.inputStyle,D=a.focusStyle,I=a.separator,O=a.disabledStyle,k=a.hasErrored,C=a.errorStyle,N=a.className,w=a["data-cy"],A=a["data-testid"],E=t.useState(0),P=E[0],F=E[1],M=t.useMemo((function(){return h?h.toString().split(""):[]}),[h]),L=t.useMemo((function(){if("string"==typeof b){if(b.length===i)return b;if(b.length>0)return console.error("Length of the placeholder should be equal to the number of inputs."),""}return""}),[i,b]);t.useImperativeHandle(u,(function(){return{focusInput:R}}));var q=function(e){var t=e.join("");c(t)},B=function(e){return(S?!isNaN(parseInt(e,10)):"string"==typeof e)&&1===e.trim().length},R=function(e){var t=Math.max(Math.min(i-1,e),0);F(t)},_=function(){R(P+1)},H=function(){R(P-1)},K=function(e){M[P]=e[0],q(M)},T=function(e){if(e.preventDefault(),!p){for(var t=P,n=e.clipboardData.getData("text/plain").slice(0,i-P).split(""),r=0;r<i;++r)r>=P&&n.length>0&&(M[r]=n.shift(),t++);F(t),R(t),q(M)}},z=function(e){8===e.keyCode||"Backspace"===e.key?(e.preventDefault(),K(""),H()):46===e.keyCode||"Delete"===e.key?(e.preventDefault(),K("")):37===e.keyCode||"ArrowLeft"===e.key?(e.preventDefault(),H()):39===e.keyCode||"ArrowRight"===e.key?(e.preventDefault(),_()):32!==e.keyCode&&" "!==e.key&&"Spacebar"!==e.key&&"Space"!==e.key||e.preventDefault()},G=function(e){if(B(e.target.value))_();else if(!S){var t=e.nativeEvent;null===t.data&&"deleteContentBackward"===t.inputType&&(e.preventDefault(),K(""),H())}},J=function(e){return function(t){F(e),t.target.select()}},Q=function(){return F(-1)};return e.jsx("div",n({style:Object.assign({display:"flex"},r(x)&&x),className:r(x)?"":x},{children:new Array(i).fill(null).map((function(t,n){var r,a;return e.jsx(o,{placeholder:null!==(r=L[n])&&void 0!==r?r:"",index:n,focus:P===n,value:M[n],onChange:(a=n,function(e){var t=e.target.value;0!==a||t.length!==i?B(t)&&K(t):q(t.split(""))}),onKeyDown:z,onInput:G,onPaste:T,onFocus:J(n),onBlur:Q,separator:I,inputStyle:j,focusStyle:D,isLastChild:n===i-1,isDisabled:p,disabledStyle:O,hasErrored:k,errorStyle:C,shouldAutoFocus:y,isInputNum:S,isInputSecure:m,className:N,"data-cy":w&&"".concat(w,"-").concat(n),"data-testid":A&&"".concat(A,"-").concat(n)},n)}))}))}));exports.OtpInput=u;
//# sourceMappingURL=index.js.map
