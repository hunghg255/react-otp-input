"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react/jsx-runtime"),t=require("react"),n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};var r=function(e){return"object"==typeof e},o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter((function(e){return!r(e)&&!1!==e})).join(" ")},a=function(a){var u=a.placeholder,l=a.separator,i=a.isLastChild,s=a.inputStyle,c=a.focus,f=a.isDisabled,p=a.hasErrored,d=a.errorStyle,y=a.focusStyle,v=a.disabledStyle,h=a.shouldAutoFocus,g=a.isInputNum,m=a.index,b=a.value,S=a.className,x=a.isInputSecure,j=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(a,["placeholder","separator","isLastChild","inputStyle","focus","isDisabled","hasErrored","errorStyle","focusStyle","disabledStyle","shouldAutoFocus","isInputNum","index","value","className","isInputSecure"]),D=t.useRef(null);t.useEffect((function(){var e=D.current;e&&c&&h&&e.focus()}),[]),t.useEffect((function(){var e=D.current;c&&e&&(e.focus(),e.select())}),[c]);var O=t.useMemo((function(){return x?"password":g?"tel":"text"}),[x,g]);return e.jsxs("div",n({className:S,style:{display:"flex",alignItems:"center"}},{children:[e.jsx("input",n({"aria-label":"".concat(0===m?"Please enter verification code. ":"").concat(g?"Digit":"Character"," ").concat(m+1),autoComplete:"off",style:Object.assign({width:"1em",textAlign:"center"},r(s)&&s,c&&r(y)&&y,f&&r(v)&&v,p&&r(d)&&d),placeholder:u,className:o(s,c&&y,f&&v,p&&d),type:O,ref:D,disabled:f,value:b||""},j)),!i&&e.jsx(e.Fragment,{children:l})]}))};exports.OtpInput=function(o){var u=o.numInputs,l=void 0===u?4:u,i=o.onChange,s=void 0===i?function(e){return console.log(e)}:i,c=o.isDisabled,f=void 0!==c&&c,p=o.shouldAutoFocus,d=void 0!==p&&p,y=o.value,v=void 0===y?"":y,h=o.isInputSecure,g=void 0!==h&&h,m=o.placeholder,b=o.isInputNum,S=o.containerStyle,x=o.inputStyle,j=o.focusStyle,D=o.separator,O=o.disabledStyle,k=o.hasErrored,I=o.errorStyle,C=o.className,N=o["data-cy"],w=o["data-testid"],A=t.useState(0),E=A[0],P=A[1],F=t.useMemo((function(){return v?v.toString().split(""):[]}),[v]),M=t.useMemo((function(){if("string"==typeof m){if(m.length===l)return m;if(m.length>0)return console.error("Length of the placeholder should be equal to the number of inputs."),""}return""}),[m]),L=function(e){var t=e.join("");s(t)},q=function(e){return(b?!isNaN(parseInt(e,10)):"string"==typeof e)&&1===e.trim().length},B=function(e){var t=Math.max(Math.min(l-1,e),0);P(t)},R=function(){B(E+1)},_=function(){B(E-1)},K=function(e){F[E]=e[0],L(F)},T=function(e){if(e.preventDefault(),!f){for(var t=E,n=e.clipboardData.getData("text/plain").slice(0,l-E).split(""),r=0;r<l;++r)r>=E&&n.length>0&&(F[r]=n.shift(),t++);P(t),B(t),L(F)}},z=function(e){8===e.keyCode||"Backspace"===e.key?(e.preventDefault(),K(""),_()):46===e.keyCode||"Delete"===e.key?(e.preventDefault(),K("")):37===e.keyCode||"ArrowLeft"===e.key?(e.preventDefault(),_()):39===e.keyCode||"ArrowRight"===e.key?(e.preventDefault(),R()):32!==e.keyCode&&" "!==e.key&&"Spacebar"!==e.key&&"Space"!==e.key||e.preventDefault()},G=function(e){if(q(e.target.value))R();else if(!b){var t=e.nativeEvent;null===t.data&&"deleteContentBackward"===t.inputType&&(e.preventDefault(),K(""),_())}},H=function(e){return function(t){P(e),t.target.select()}},J=function(){return P(-1)};return e.jsx("div",n({style:Object.assign({display:"flex"},r(S)&&S),className:r(S)?"":S},{children:new Array(l).fill(null).map((function(t,n){var r,o;return e.jsx(a,{placeholder:null!==(r=M[n])&&void 0!==r?r:"",index:n,focus:E===n,value:F[n],onChange:(o=n,function(e){var t=e.target.value;0!==o||t.length!==l?q(t)&&K(t):L(t.split(""))}),onKeyDown:z,onInput:G,onPaste:T,onFocus:H(n),onBlur:J,separator:D,inputStyle:x,focusStyle:j,isLastChild:n===l-1,isDisabled:f,disabledStyle:O,hasErrored:k,errorStyle:I,shouldAutoFocus:d,isInputNum:b,isInputSecure:g,className:C,"data-cy":N&&"".concat(N,"-").concat(n),"data-testid":w&&"".concat(w,"-").concat(n)},n)}))}))};
//# sourceMappingURL=index.js.map
