import{jsx as e,jsxs as t,Fragment as n}from"react/jsx-runtime";import{useState as r,useMemo as o,useRef as a,useEffect as l}from"react";var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};var u=function(e){return"object"==typeof e},c=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter((function(e){return!u(e)&&!1!==e})).join(" ")},s=function(r){var s=r.placeholder,f=r.separator,p=r.isLastChild,d=r.inputStyle,y=r.focus,v=r.isDisabled,h=r.hasErrored,g=r.errorStyle,m=r.focusStyle,b=r.disabledStyle,S=r.shouldAutoFocus,D=r.isInputNum,k=r.index,O=r.value,x=r.className,C=r.isInputSecure,I=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(r,["placeholder","separator","isLastChild","inputStyle","focus","isDisabled","hasErrored","errorStyle","focusStyle","disabledStyle","shouldAutoFocus","isInputNum","index","value","className","isInputSecure"]),N=a(null);l((function(){var e=N.current;e&&y&&S&&e.focus()}),[]),l((function(){var e=N.current;y&&e&&(e.focus(),e.select())}),[y]);var j=o((function(){return C?"password":D?"tel":"text"}),[C,D]);return t("div",i({className:x,style:{display:"flex",alignItems:"center"}},{children:[e("input",i({"aria-label":"".concat(0===k?"Please enter verification code. ":"").concat(D?"Digit":"Character"," ").concat(k+1),autoComplete:"off",style:Object.assign({width:"1em",textAlign:"center"},u(d)&&d,y&&u(m)&&m,v&&u(b)&&b,h&&u(g)&&g),placeholder:s,className:c(d,y&&m,v&&b,h&&g),type:j,ref:N,disabled:v,value:O||""},I)),!p&&e(n,{children:f})]}))},f=function(t){var n=t.numInputs,a=void 0===n?4:n,l=t.onChange,c=void 0===l?function(e){return console.log(e)}:l,f=t.isDisabled,p=void 0!==f&&f,d=t.shouldAutoFocus,y=void 0!==d&&d,v=t.value,h=void 0===v?"":v,g=t.isInputSecure,m=void 0!==g&&g,b=t.placeholder,S=t.isInputNum,D=t.containerStyle,k=t.inputStyle,O=t.focusStyle,x=t.separator,C=t.disabledStyle,I=t.hasErrored,N=t.errorStyle,j=t.className,w=t["data-cy"],A=t["data-testid"],E=r(0),P=E[0],F=E[1],L=o((function(){return h?h.toString().split(""):[]}),[h]),B=o((function(){if("string"==typeof b){if(b.length===a)return b;if(b.length>0)return console.error("Length of the placeholder should be equal to the number of inputs."),""}return""}),[b]),M=function(e){var t=e.join("");c(t)},q=function(e){return(S?!isNaN(parseInt(e,10)):"string"==typeof e)&&1===e.trim().length},K=function(e){var t=Math.max(Math.min(a-1,e),0);F(t)},R=function(){K(P+1)},T=function(){K(P-1)},z=function(e){L[P]=e[0],M(L)},G=function(e){if(e.preventDefault(),!p){for(var t=P,n=e.clipboardData.getData("text/plain").slice(0,a-P).split(""),r=0;r<a;++r)r>=P&&n.length>0&&(L[r]=n.shift(),t++);F(t),K(t),M(L)}},H=function(e){8===e.keyCode||"Backspace"===e.key?(e.preventDefault(),z(""),T()):46===e.keyCode||"Delete"===e.key?(e.preventDefault(),z("")):37===e.keyCode||"ArrowLeft"===e.key?(e.preventDefault(),T()):39===e.keyCode||"ArrowRight"===e.key?(e.preventDefault(),R()):32!==e.keyCode&&" "!==e.key&&"Spacebar"!==e.key&&"Space"!==e.key||e.preventDefault()},J=function(e){if(q(e.target.value))R();else if(!S){var t=e.nativeEvent;null===t.data&&"deleteContentBackward"===t.inputType&&(e.preventDefault(),z(""),T())}},Q=function(e){return function(t){F(e),t.target.select()}},U=function(){return F(-1)};return e("div",i({style:Object.assign({display:"flex"},u(D)&&D),className:u(D)?"":D},{children:new Array(a).fill(null).map((function(t,n){var r,o;return e(s,{placeholder:null!==(r=B[n])&&void 0!==r?r:"",index:n,focus:P===n,value:L[n],onChange:(o=n,function(e){var t=e.target.value;0!==o||t.length!==a?q(t)&&z(t):M(t.split(""))}),onKeyDown:H,onInput:J,onPaste:G,onFocus:Q(n),onBlur:U,separator:x,inputStyle:k,focusStyle:O,isLastChild:n===a-1,isDisabled:p,disabledStyle:C,hasErrored:I,errorStyle:N,shouldAutoFocus:y,isInputNum:S,isInputSecure:m,className:j,"data-cy":w&&"".concat(w,"-").concat(n),"data-testid":A&&"".concat(A,"-").concat(n)},n)}))}))};export{f as OtpInput};
//# sourceMappingURL=index.js.map
